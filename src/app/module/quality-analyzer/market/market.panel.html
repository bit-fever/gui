<div class="main-layout">
  <div>
    <mat-button-toggle-group [hideSingleSelectionIndicator]="true" [formControl]="tradeType">
      <mat-button-toggle value="all"    (change)="onTradeTypeChange()">{{ loc("all") }}</mat-button-toggle>
      <mat-button-toggle value="long"   (change)="onTradeTypeChange()">{{ loc("long") }}</mat-button-toggle>
      <mat-button-toggle value="short"  (change)="onTradeTypeChange()">{{ loc("short") }}</mat-button-toggle>
    </mat-button-toggle-group>

    <mat-button-toggle-group [hideSingleSelectionIndicator]="true" [formControl]="returnType">
      <mat-button-toggle value="gross"  (change)="onReturnTypeChange()">{{ loc("gross") }}</mat-button-toggle>
      <mat-button-toggle value="net"    (change)="onReturnTypeChange()">{{ loc("net") }}</mat-button-toggle>
    </mat-button-toggle-group>

    <span style="flex:1 0 auto"></span>

    <mat-button-toggle-group [hideSingleSelectionIndicator]="true" [formControl]="metricType">
      <mat-button-toggle value="sqn"        >{{ loc("sqn") }}</mat-button-toggle>
      <mat-button-toggle value="sqn100"      >{{ loc("sqn100") }}</mat-button-toggle>
      <mat-button-toggle value="trades"      >{{ loc("trades") }}</mat-button-toggle>
      <mat-button-toggle value="tradesPerc"  >{{ loc("tradesPerc") }}</mat-button-toggle>
      <mat-button-toggle value="maxDrawdown" >{{ loc("maxDrawdown") }}</mat-button-toggle>
    </mat-button-toggle-group>
  </div>

  <!-- ============================================================================================================= -->

  <div class="panel-layout">
    <table>
      <tbody>
        <tr>
          <td class="title">{{loc('market')}}</td>
          <td class="title">{{loc('quiet')}}</td>
          <td class="title">{{loc('normal')}}</td>
          <td class="title">{{loc('volatile')}}</td>
          <td class="title">{{loc('veryVolatile')}}</td>
          <td class="title">{{loc('total')}}</td>
        </tr>
        <tr>
          <td class="title">{{loc('strongBear')}}</td>
          <td style="background-color:{{bg(-2,0)}}">{{data(-2,0)}}</td>
          <td style="background-color:{{bg(-2,1)}}">{{data(-2,1)}}</td>
          <td style="background-color:{{bg(-2,2)}}">{{data(-2,2)}}</td>
          <td style="background-color:{{bg(-2,3)}}">{{data(-2,3)}}</td>
          <td style="background-color:{{bg(-2,4)}}" class="total">{{data(-2,4)}}</td>
        </tr>

        <tr>
          <td class="title">{{loc('bear')}}</td>
          <td style="background-color:{{bg(-1,0)}}">{{data(-1,0)}}</td>
          <td style="background-color:{{bg(-1,1)}}">{{data(-1,1)}}</td>
          <td style="background-color:{{bg(-1,2)}}">{{data(-1,2)}}</td>
          <td style="background-color:{{bg(-1,3)}}">{{data(-1,3)}}</td>
          <td style="background-color:{{bg(-2,4)}}" class="total">{{data(-1,4)}}</td>
        </tr>


        <tr>
          <td class="title">{{loc('neutral')}}</td>
          <td style="background-color:{{bg(0,0)}}">{{data(0,0)}}</td>
          <td style="background-color:{{bg(0,1)}}">{{data(0,1)}}</td>
          <td style="background-color:{{bg(0,2)}}">{{data(0,2)}}</td>
          <td style="background-color:{{bg(0,3)}}">{{data(0,3)}}</td>
          <td class="total" style="background-color:{{bg(0,4)}}">{{data(0,4)}}</td>
        </tr>

        <tr>
          <td class="title">{{loc('bull')}}</td>
          <td style="background-color:{{bg(1,0)}}">{{data(1,0)}}</td>
          <td style="background-color:{{bg(1,1)}}">{{data(1,1)}}</td>
          <td style="background-color:{{bg(1,2)}}">{{data(1,2)}}</td>
          <td style="background-color:{{bg(1,3)}}">{{data(1,3)}}</td>
          <td class="total" style="background-color:{{bg(1,4)}}">{{data(1,4)}}</td>
        </tr>

        <tr>
          <td class="title">{{loc('strongBull')}}</td>
          <td style="background-color:{{bg(2,0)}}">{{data(2,0)}}</td>
          <td style="background-color:{{bg(2,1)}}">{{data(2,1)}}</td>
          <td style="background-color:{{bg(2,2)}}">{{data(2,2)}}</td>
          <td style="background-color:{{bg(2,3)}}">{{data(2,3)}}</td>
          <td class="total" style="background-color:{{bg(2,4)}}">{{data(2,4)}}</td>
        </tr>

        <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

        <tr>
          <td class="title">{{loc('total')}}</td>
          <td class="total" style="background-color:{{bg(3,0)}}">{{data(3,0)}}</td>
          <td class="total" style="background-color:{{bg(3,1)}}">{{data(3,1)}}</td>
          <td class="total" style="background-color:{{bg(3,2)}}">{{data(3,2)}}</td>
          <td class="total" style="background-color:{{bg(3,3)}}">{{data(3,3)}}</td>
          <td class="total" style="background-color:{{bg(3,4)}}">{{data(3,4)}}</td>
        </tr>
      </tbody>

    </table>
  </div>
</div>
