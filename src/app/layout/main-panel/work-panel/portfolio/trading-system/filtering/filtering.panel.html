<div class="main-layout">

  <mat-accordion class="left-layout" multi>
    <mat-expansion-panel [expanded]="config.longShort.enabled" hideToggle>
      <mat-expansion-panel-header>
        <mat-panel-title>{{loc("longShortPeriods")}}
          <span class="filler"></span>
          <mat-icon>date_range</mat-icon>
          <mat-slide-toggle (change)="onLongShortChange($event)" [checked]="config.longShort.enabled" (click)="$event.stopPropagation()"></mat-slide-toggle>
        </mat-panel-title>
      </mat-expansion-panel-header>

      <mat-form-field>
        <mat-label>{{loc("longPeriod")}}</mat-label>
        <input matInput type="number" min="1" max="100" required>
      </mat-form-field>

      <mat-form-field>
        <mat-label>{{loc("shortPeriod")}}</mat-label>
        <input matInput type="number" min="1" max="50" required>
      </mat-form-field>
    </mat-expansion-panel>

    <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

    <mat-expansion-panel [expanded]="config.equityAverage.enabled" hideToggle>
      <mat-expansion-panel-header>
        <mat-panel-title>{{loc("equityAverage")}}
          <span class="filler"></span>
          <mat-icon>functions</mat-icon>
          <mat-slide-toggle (change)="onEquityAverageChange($event)" [checked]="config.equityAverage.enabled" (click)="$event.stopPropagation()"></mat-slide-toggle>
        </mat-panel-title>
      </mat-expansion-panel-header>

      <mat-form-field>
        <mat-label>{{loc("equityPeriods")}}</mat-label>
        <input matInput type="number" min="1" max="200" required [(ngModel)]="config.equityAverage.days">
      </mat-form-field>
    </mat-expansion-panel>

  </mat-accordion>

  <!-- ====================================================================== -->

  <div class="center-layout">
    <span class="title">{{tradingSystem.name}}</span>
    <mat-divider></mat-divider>

    <div>
      <button mat-button (click)="onRunClick()"     >{{button("run")}}</button>
      <button mat-button (click)="onOptimizeClick()">{{button("optimize")}}</button>
      <button mat-button (click)="onSaveClick()"    >{{button("save")}}</button>
      <button mat-button (click)="onReloadClick()"  >{{button("reload")}}</button>
    </div>

    <canvas  id="filteringChart">{{ chart }}</canvas>

    <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start">
      <mat-tab label="{{loc('summary')}}">
      </mat-tab>

      <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

      <mat-tab label="{{loc('analysis')}}">
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
